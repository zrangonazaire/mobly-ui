import{a as K,f as $e,h as je,m as Ze,n as ze,o as Qe,q as Je,r as We}from"./chunk-MRC7V7DO.js";import{$a as he,A as x,Aa as ce,B as De,Bb as pe,C as Z,Da as L,Fa as de,G as re,H as Ee,Ia as Q,Ka as Ae,Kb as Ue,Lb as Ve,Na as N,O as Se,Oa as u,P as p,Pa as D,Q as Re,R as ae,Sa as ue,Sb as fe,Ta as Ie,U as v,V as d,X as Me,Ya as ke,Yb as Y,Za as H,_ as a,a as O,ab as M,b as se,bb as J,ca as le,db as Pe,ea as Ce,eb as Fe,fb as l,g as j,gb as c,hb as h,ib as xe,j as y,ka as R,kb as U,l as we,la as z,n as F,na as m,nb as Ge,oa as G,ob as Be,pb as Le,qb as W,r as oe,ra as B,rb as He,sb as V,tb as $,ub as q,vb as _e,wb as C,xb as A,y as w,z as Ne,zb as f}from"./chunk-T7KU2RMZ.js";function X(t){t||(Ce(X),t=a(z));let s=new j(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(p(s))}var Tt=["container"],Ot=["ngbAccordionBody",""],ie=["*"];var wt=["dialog"];function Nt(t,s){if(t&1&&(l(0,"span"),Ge(1,0),Ue(2,"percent"),c()),t&2){let e=He();L(2),Be(Ve(2,1,e.getValue()/e.max)),Le(1)}}var Ke={animation:!0,transitionTimerDelayMs:5},ve=(()=>{class t{constructor(){this.animation=Ke.animation}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Dt=(()=>{class t{constructor(){this._ngbConfig=a(ve),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Et(t){let{transitionDelay:s,transitionDuration:e}=window.getComputedStyle(t),i=parseFloat(s),n=parseFloat(e);return(i+n)*1e3}function St(t){return parseInt(`${t}`,10)}function Rt(t,s,e=0){return Math.max(Math.min(t,s),e)}function ye(t){return typeof t=="string"}function Mt(t){return!isNaN(St(t))}function ge(t){return t!=null}function Ct(t){return t&&t.then}function Te(t){return(t||document.body).getBoundingClientRect()}function At(t){return s=>new j(e=>{let i=r=>t.run(()=>e.next(r)),n=r=>t.run(()=>e.error(r)),o=()=>t.run(()=>e.complete());return s.subscribe({next:i,error:n,complete:o})})}var It=()=>{},{transitionTimerDelayMs:kt}=Ke,ee=new Map,E=(t,s,e,i)=>{let n=i.context||{},o=ee.get(s);if(o)switch(i.runningTransition){case"continue":return we;case"stop":t.run(()=>o.transition$.complete()),n=Object.assign(o.context,n),ee.delete(s)}let r=e(s,i.animation,n)||It;if(!i.animation||window.getComputedStyle(s).transitionProperty==="none")return t.run(()=>r()),F(void 0).pipe(At(t));let _=new y,g=new y,b=_.pipe(Ee(!0));ee.set(s,{transition$:_,complete:()=>{g.next(),g.complete()},context:n});let P=Et(s);return t.runOutsideAngular(()=>{let T=w(s,"transitionend").pipe(p(b),x(({target:yt})=>yt===s)),S=Ne(P+kt).pipe(p(b));De(S,T,g).pipe(p(b)).subscribe(()=>{ee.delete(s),t.run(()=>{r(),_.next(),_.complete()})})}),_.asObservable()};function Pt(t,s){if(typeof navigator>"u")return"0px";let{classList:e}=t,i=e.contains("show");i||e.add("show"),t.style[s]="";let n=t.getBoundingClientRect()[s]+"px";return i||e.remove("show"),n}var Ft=(t,s,e)=>{let{direction:i,maxSize:n,dimension:o}=e,{classList:r}=t;function _(){r.add("collapse"),i==="show"?r.add("show"):r.remove("show")}if(!s){_();return}return n||(n=Pt(t,o),e.maxSize=n,t.style[o]=i!=="show"?n:"0px",r.remove("collapse","collapsing","show"),Te(t),r.add("collapsing")),t.style[o]=i==="show"?n:"0px",()=>{_(),r.remove("collapsing"),t.style[o]=""}},xt=(()=>{class t{constructor(){this._ngbConfig=a(ve),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qe=(()=>{class t{constructor(){this._config=a(xt),this._element=a(B),this._zone=a(G),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new m,this.horizontal=this._config.horizontal,this.shown=new m,this.hidden=new m}set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return E(this._zone,this._element.nativeElement,Ft,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,n){i&2&&M("collapse-horizontal",n.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]})}}return t})(),Gt=0,yn=(()=>{class t{constructor(){this._item=a(k),this._viewRef=null,this.elementRef=a(B)}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef?.destroy(),this._viewRef=null}_createViewIfNotExists(){this._viewRef||(this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=N({type:t,selectors:[["","ngbAccordionBody",""]],contentQueries:function(i,n,o){if(i&1&&q(o,de,7),i&2){let r;C(r=A())&&(n._bodyTpl=r.first)}},viewQuery:function(i,n){if(i&1&&_e(Tt,7,Ae),i&2){let o;C(o=A())&&(n._vcr=o.first)}},hostAttrs:[1,"accordion-body"],attrs:Ot,ngContentSelectors:ie,decls:3,vars:0,consts:[["container",""]],template:function(i,n){i&1&&(V(),xe(0,null,0),$(2))},encapsulation:2})}}return t})(),Bt=(()=>{class t{constructor(){this.item=a(k),this.ngbCollapse=a(qe)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region",1,"accordion-collapse"],hostVars:2,hostBindings:function(i,n){i&2&&(U("id",n.item.collapseId),H("aria-labelledby",n.item.toggleId))},exportAs:["ngbAccordionCollapse"],features:[ue([qe])]})}}return t})(),Lt=(()=>{class t{constructor(){this.item=a(k),this.accordion=a(Xe)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(i,n){i&1&&W("click",function(){return!n.item.disabled&&n.accordion.toggle(n.item.id)}),i&2&&(U("id",n.item.toggleId),H("aria-controls",n.item.collapseId)("aria-expanded",!n.item.collapsed),M("collapsed",n.item.collapsed))}})}}return t})(),Tn=(()=>{class t{constructor(){this.item=a(k)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["button","ngbAccordionButton",""]],hostAttrs:["type","button",1,"accordion-button"],hostVars:1,hostBindings:function(i,n){i&2&&U("disabled",n.item.disabled)},features:[ue([Lt])]})}}return t})(),On=(()=>{class t{constructor(){this.item=a(k)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading",1,"accordion-header"],hostVars:2,hostBindings:function(i,n){i&2&&M("collapsed",n.item.collapsed)}})}}return t})(),k=(()=>{class t{constructor(){this._accordion=a(Xe),this._cd=a(fe),this._destroyRef=a(z),this._collapsed=!0,this._id=`ngb-accordion-item-${Gt++}`,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new m,this.shown=new m,this.hide=new m,this.hidden=new m}set id(e){ye(e)&&e!==""&&(this._id=e)}set destroyOnHide(e){this._destroyOnHide=e}get destroyOnHide(){return this._destroyOnHide===void 0?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(e){e?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){let{ngbCollapse:e}=this._collapse;e.animation=!1,e.collapsed=this.collapsed,e.animation=this._accordion.animation,e.hidden.pipe(X(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id),this._cd.markForCheck()}),e.shown.pipe(X(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id),this._cd.markForCheck()})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["","ngbAccordionItem",""]],contentQueries:function(i,n,o){if(i&1&&q(o,Bt,7),i&2){let r;C(r=A())&&(n._collapse=r.first)}},hostAttrs:[1,"accordion-item"],hostVars:1,hostBindings:function(i,n){i&2&&U("id",n.id)},inputs:{id:[0,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"]})}}return t})(),Xe=(()=>{class t{constructor(){this._config=a(Dt),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new m,this.shown=new m,this.hide=new m,this.hidden=new m}toggle(e){this._getItem(e)?.toggle()}expand(e){this._getItem(e)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(e=>!e.collapsed)||this._items.first.expand():this._items.forEach(e=>e.expand()))}collapse(e){this._getItem(e)?.collapse()}collapseAll(){this._items?.forEach(e=>e.collapse())}isExpanded(e){let i=this._getItem(e);return i?!i.collapsed:!1}_ensureCanExpand(e){return this.closeOthers?this._items?(this._items.find(i=>!i.collapsed&&e!==i)?.collapse(),!0):this._anItemWasAlreadyExpandedDuringInitialisation?!1:(this._anItemWasAlreadyExpandedDuringInitialisation=!0,!0):!0}_getItem(e){return this._items?.find(i=>i.id===e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["","ngbAccordion",""]],contentQueries:function(i,n,o){if(i&1&&q(o,k,4),i&2){let r;C(r=A())&&(n._items=r)}},hostAttrs:[1,"accordion"],inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"]})}}return t})();var et=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var tt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var it=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})(),nt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var wn=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,s=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||s()):!1})();var Ht=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function st(t){let s=Array.from(t.querySelectorAll(Ht)).filter(e=>e.tabIndex!==-1);return[s[0],s[s.length-1]]}var Ut=(t,s,e,i=!1)=>{t.runOutsideAngular(()=>{let n=w(s,"focusin").pipe(p(e),oe(o=>o.target));w(s,"keydown").pipe(p(e),x(o=>o.key==="Tab"),ae(n)).subscribe(([o,r])=>{let[_,g]=st(s);(r===_||r===s)&&o.shiftKey&&(g.focus(),o.preventDefault()),r===g&&!o.shiftKey&&(_.focus(),o.preventDefault())}),i&&w(s,"click").pipe(p(e),ae(n),oe(o=>o[1])).subscribe(o=>o.focus())})};var Nn=new Date(1882,10,12),Dn=new Date(2174,10,25);var En=1e3*60*60*24;var Oe=1080,Vt=24*Oe,$t=12*Oe+793,Sn=29*Vt+$t,Rn=11*Oe+204;var ot=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var ne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})(),jt=(()=>{class t{constructor(){this._ngbConfig=a(ve),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),I=class{constructor(s,e,i){this.nodes=s,this.viewRef=e,this.componentRef=i}};var Zt=(()=>{class t{constructor(){this._document=a(K)}hide(){let e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,n=i.style,{overflow:o,paddingRight:r}=n;if(e>0){let _=parseFloat(window.getComputedStyle(i).paddingRight);n.paddingRight=`${_+e}px`}return n.overflow="hidden",()=>{e>0&&(n.paddingRight=r),n.overflow=o}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zt=(()=>{class t{constructor(){this._nativeElement=a(B).nativeElement,this._zone=a(G),this._injector=a(R)}ngOnInit(){ce({mixedReadWrite:()=>E(this._zone,this._nativeElement,(e,i)=>{i&&Te(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return E(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=N({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,n){i&2&&(J("modal-backdrop"+(n.backdropClass?" "+n.backdropClass:"")),M("show",!n.animation)("fade",n.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})(),te=class{update(s){}close(s){}dismiss(s){}},Qt=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],Jt=["animation","backdropClass"],me=class{_applyWindowOptions(s,e){Qt.forEach(i=>{ge(e[i])&&(s[i]=e[i])})}_applyBackdropOptions(s,e){Jt.forEach(i=>{ge(e[i])&&(s[i]=e[i])})}update(s){this._applyWindowOptions(this._windowCmptRef.instance,s),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,s)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(p(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(p(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(s,e,i,n){this._windowCmptRef=s,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=n,this._closed=new y,this._dismissed=new y,this._hidden=new y,s.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,r)=>{this._resolve=o,this._reject=r}),this.result.then(null,()=>{})}close(s){this._windowCmptRef&&(this._closed.next(s),this._resolve(s),this._removeModalElements())}_dismiss(s){this._dismissed.next(s),this._reject(s),this._removeModalElements()}dismiss(s){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(s);else{let e=this._beforeDismiss();Ct(e)?e.then(i=>{i!==!1&&this._dismiss(s)},()=>{}):e!==!1&&this._dismiss(s)}}_removeModalElements(){let s=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():F(void 0);s.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Z(s,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},be=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(be||{}),Wt=(()=>{class t{constructor(){this._document=a(K),this._elRef=a(B),this._zone=a(G),this._injector=a(R),this._closed$=new y,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new m,this.shown=new y,this.hidden=new y}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":ye(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,ce({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},n=E(this._zone,e,()=>e.classList.remove("show"),i),o=E(this._zone,this._dialogEl.nativeElement,()=>{},i),r=Z(n,o);return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){let e={animation:this.animation,runningTransition:"continue"},i=E(this._zone,this._elRef.nativeElement,(o,r)=>{r&&Te(o),o.classList.add("show")},e),n=E(this._zone,this._dialogEl.nativeElement,()=>{},e);Z(i,n).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{w(e,"keydown").pipe(p(this._closed$),x(n=>n.key==="Escape")).subscribe(n=>{this.keyboard?requestAnimationFrame(()=>{n.defaultPrevented||this._zone.run(()=>this.dismiss(be.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;w(this._dialogEl.nativeElement,"mousedown").pipe(p(this._closed$),Re(()=>i=!1),Se(()=>w(e,"mouseup").pipe(p(this._closed$),re(1))),x(({target:n})=>e===n)).subscribe(()=>{i=!0}),w(e,"click").pipe(p(this._closed$)).subscribe(({target:n})=>{e===n&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(be.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let i=e.querySelector("[ngbAutofocus]"),n=st(e)[0];(i||n||e).focus()}}_restoreFocus(){let e=this._document.body,i=this._elWithFocus,n;i&&i.focus&&e.contains(i)?n=i:n=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&E(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=N({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,n){if(i&1&&_e(wt,7),i&2){let o;C(o=A())&&(n._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,n){i&2&&(H("aria-modal",!0)("aria-labelledby",n.ariaLabelledBy)("aria-describedby",n.ariaDescribedBy)("role",n.role),J("modal d-block"+(n.windowClass?" "+n.windowClass:"")),M("fade",n.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ie,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,n){i&1&&(V(),l(0,"div",1,0)(2,"div",2),$(3),c()()),i&2&&J("modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+n.fullscreenClass+(n.scrollable?" modal-dialog-scrollable":"")+(n.modalDialogClass?" "+n.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return t})(),qt=(()=>{class t{constructor(){this._applicationRef=a(ke),this._injector=a(R),this._environmentInjector=a(le),this._document=a(K),this._scrollBar=a(Zt),this._activeWindowCmptHasChanged=new y,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new m;let e=a(G);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Ut(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,n){let o=n.container instanceof HTMLElement?n.container:ge(n.container)?this._document.querySelector(n.container):this._document.body;if(!o)throw new Error(`The specified modal container "${n.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let r=new te;e=n.injector||e;let _=e.get(le,null)||this._environmentInjector,g=this._getContentRef(e,_,i,r,n),b=n.backdrop!==!1?this._attachBackdrop(o):void 0,P=this._attachWindowComponent(o,g.nodes),T=new me(P,g,b,n.beforeDismiss);return this._registerModalRef(T),this._registerWindowCmpt(P),T.hidden.pipe(re(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),r.close=S=>{T.close(S)},r.dismiss=S=>{T.dismiss(S)},r.update=S=>{T.update(S)},T.update(n),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),b&&b.instance&&b.changeDetectorRef.detectChanges(),P.changeDetectorRef.detectChanges(),T}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=Y(zt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let n=Y(Wt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_getContentRef(e,i,n,o,r){return n?n instanceof de?this._createFromTemplateRef(n,o):ye(n)?this._createFromString(n):this._createFromComponent(e,i,n,o,r):new I([])}_createFromTemplateRef(e,i){let n={$implicit:i,close(r){i.close(r)},dismiss(r){i.dismiss(r)}},o=e.createEmbeddedView(n);return this._applicationRef.attachView(o),new I([o.rootNodes],o)}_createFromString(e){let i=this._document.createTextNode(`${e}`);return new I([[i]])}_createFromComponent(e,i,n,o,r){let _=R.create({providers:[{provide:te,useValue:o}],parent:e}),g=Y(n,{environmentInjector:i,elementInjector:_}),b=g.location.nativeElement;return r.scrollable&&b.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new I([[b]],g.hostView,g)}_setAriaHidden(e){let i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(n=>{n!==e&&n.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){let i=()=>{let n=this._modalRefs.indexOf(e);n>-1&&(this._modalRefs.splice(n,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{let i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yt=(()=>{class t{constructor(){this._injector=a(R),this._modalStack=a(qt),this._config=a(jt)}open(e,i={}){let n=O(se(O({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,e,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({providers:[Yt]})}}return t})();var at=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var lt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var ct=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})(),Kt=(()=>{class t{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mn=(()=>{class t{set max(e){this._max=!Mt(e)||e<=0?100:e}get max(){return this._max}constructor(){this._config=a(Kt),this.stacked=a(Xt,{optional:!0}),this.animated=this._config.animated,this.ariaLabel=this._config.ariaLabel,this.striped=this._config.striped,this.showValue=this._config.showValue,this.textType=this._config.textType,this.type=this._config.type,this.value=0,this.height=this._config.height,this.max=this._config.max}getValue(){return Rt(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=N({type:t,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:7,hostBindings:function(i,n){i&2&&(H("aria-valuenow",n.getValue())("aria-valuemax",n.max)("aria-label",n.ariaLabel),he("width",n.stacked?n.getPercentValue():null,"%")("height",n.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},ngContentSelectors:ie,decls:3,vars:11,consts:()=>{let e;return e=$localize`:@@ngb.progressbar.value:${"\uFFFD0\uFFFD"}:INTERPOLATION:`,[e]},template:function(i,n){i&1&&(V(),l(0,"div"),Ie(1,Nt,3,3,"span"),$(2),c()),i&2&&(Pe("progress-bar",n.type?n.textType?" bg-"+n.type:" text-bg-"+n.type:"","",n.textType?" text-"+n.textType:"",""),he("width",n.stacked?null:n.getPercentValue(),"%"),M("progress-bar-animated",n.animated)("progress-bar-striped",n.striped),L(),Fe(n.showValue?1:-1))},dependencies:[$e],encapsulation:2,changeDetection:0})}}return t})(),Xt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=N({type:t,selectors:[["ngb-progressbar-stacked"]],hostAttrs:[1,"progress-stacked"],ngContentSelectors:ie,decls:1,vars:0,template:function(i,n){i&1&&(V(),$(0))},encapsulation:2,changeDetection:0})}}return t})(),dt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var ut=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var ht=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var _t=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var pt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var ft=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var Cn=new Me("live announcer delay",{providedIn:"root",factory:()=>100});var gt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})();var mt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({})}}return t})(),ei=[et,tt,it,nt,ot,ne,rt,at,mt,lt,ct,dt,ut,ht,_t,pt,ft,gt],An=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=d({imports:[ei,et,tt,it,nt,ot,ne,rt,at,mt,lt,ct,dt,ut,ht,_t,pt,ft,gt]})}}return t})();var bt=class t{constructor(s,e){this.authService=s;this.router=e}isMenuCollapsed=!0;logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)(Q(We),Q(Ze))};static \u0275cmp=N({type:t,selectors:[["app-navbar"]],decls:66,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","modern-navbar"],[1,"container-fluid"],["routerLink","/dashboard",1,"navbar-brand"],[1,"bi","bi-building","me-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarContent","aria-controls","navbarContent","aria-expanded","false",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-speedometer2","me-1"],["routerLink","/engins","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-truck","me-1"],["routerLink","/feuilles-route","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-clipboard-check","me-1"],["routerLink","/maintenance","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-tools","me-1"],[1,"nav-item","dropdown"],["href","#","id","facturationDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"bi","bi-receipt","me-1"],["aria-labelledby","facturationDropdown",1,"dropdown-menu"],["routerLink","/facturation/devis",1,"dropdown-item"],[1,"bi","bi-file-earmark-text","me-2"],["routerLink","/facturation/factures",1,"dropdown-item"],[1,"bi","bi-file-earmark-check","me-2"],[1,"dropdown-divider"],["routerLink","/facturation/statistiques",1,"dropdown-item"],[1,"bi","bi-graph-up","me-2"],["routerLink","/suivi-gps","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-geo-alt","me-1"],[1,"d-flex"],[1,"navbar-nav"],["href","#","id","userDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"bi","bi-person-circle","me-1"],["aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-end"],["routerLink","/parametres",1,"dropdown-item"],[1,"bi","bi-gear","me-2"],[1,"dropdown-item",3,"click"],[1,"bi","bi-box-arrow-right","me-2"]],template:function(e,i){if(e&1&&(l(0,"nav",0)(1,"div",1)(2,"a",2),h(3,"i",3),l(4,"span"),f(5,"GestFlotPro"),c()(),l(6,"button",4),h(7,"span",5),c(),l(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),h(12,"i",10),f(13," Dashboard "),c()(),l(14,"li",8)(15,"a",11),h(16,"i",12),f(17," Engins "),c()(),l(18,"li",8)(19,"a",13),h(20,"i",14),f(21," Feuilles de route "),c()(),l(22,"li",8)(23,"a",15),h(24,"i",16),f(25," Maintenance "),c()(),l(26,"li",17)(27,"a",18),h(28,"i",19),f(29," Facturation "),c(),l(30,"ul",20)(31,"li")(32,"a",21),h(33,"i",22),f(34," Devis "),c()(),l(35,"li")(36,"a",23),h(37,"i",24),f(38," Factures "),c()(),l(39,"li"),h(40,"hr",25),c(),l(41,"li")(42,"a",26),h(43,"i",27),f(44," Statistiques "),c()()()(),l(45,"li",8)(46,"a",28),h(47,"i",29),f(48," Suivi GPS "),c()()(),l(49,"div",30)(50,"ul",31)(51,"li",17)(52,"a",32),h(53,"i",33),f(54),c(),l(55,"ul",34)(56,"li")(57,"a",35),h(58,"i",36),f(59," Param\xE8tres "),c()(),l(60,"li"),h(61,"hr",25),c(),l(62,"li")(63,"a",37),W("click",function(){return i.logout()}),h(64,"i",38),f(65," D\xE9connexion "),c()()()()()()()()()),e&2){let n;L(54),pe(" ",((n=i.authService.getCurrentUser())==null?null:n.nom)||"Utilisateur"," ")}},dependencies:[je,ne,Je,ze,Qe],styles:[".modern-navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd,#0b5ed7);box-shadow:0 2px 10px #0000001a;padding:.5rem 1rem;position:sticky;top:0;z-index:1030}.modern-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.25rem;display:flex;align-items:center}.modern-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem}.modern-navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem;margin:0 .25rem;border-radius:.5rem;transition:all .3s ease}.modern-navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.modern-navbar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#ffffff40;font-weight:500}.modern-navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem;font-size:1.1rem}.modern-navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:none;box-shadow:0 5px 15px #0000001a;border-radius:.5rem;padding:.5rem;margin-top:.5rem}.modern-navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{border-radius:.25rem;padding:.5rem 1rem;margin:.1rem 0;display:flex;align-items:center;transition:all .2s ease}.modern-navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#0d6efd}.modern-navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.25rem;text-align:center}@media (max-width: 992px){.modern-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{padding:1rem 0}.modern-navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin:.25rem 0;padding:.75rem 1rem}.modern-navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:none;box-shadow:none;background-color:#ffffff0d;margin-left:1rem}.modern-navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#fffc}.modern-navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}}"]})};var vt=class t{getChauffeurs(){throw new Error("Method not implemented.")}engins=[{id:1,type:"Chariot \xE9l\xE9vateur",modele:"Toyota 8FGU25",annee:2020,numeroSerie:"CE-TOY-2020-001",capacite:"2500 kg",plaqueImmatriculation:"AA-123-AA",documents:[{type:"Carte grise",dateExpiration:new Date("2025-12-31"),fichier:"carte_grise_001.pdf"}],statut:"disponible",dernierControle:new Date("2023-10-15"),prochaineMaintenance:new Date("2024-01-15")},{id:2,type:"Tracteur routier",modele:"Volvo FH16",annee:2021,numeroSerie:"TR-VOL-2021-001",capacite:"40000 kg",documents:[{type:"Carte grise",dateExpiration:new Date("2026-06-30"),fichier:"carte_grise_002.pdf"},{type:"Assurance",dateExpiration:new Date("2024-06-30"),fichier:"assurance_002.pdf"}],statut:"en mission"}];feuillesRoute=[{id:1,enginId:2,chauffeurId:3,dateDepart:new Date("2023-11-15T08:00:00"),voyages:[{id:1,depart:"Entrep\xF4t principal",arrivee:"Site client A",distance:150,cargaison:"Palettes de marchandises",client:"Client A",dureeEstimee:2.5}],lettresVoiture:[{id:1,numero:"LV-2023-001",date:new Date("2023-11-15"),client:"Client A",details:"Transport de 10 palettes",documents:["bon_commande_001.pdf"]}],statut:"en cours"}];maintenances=[{id:1,enginId:1,type:"Pr\xE9ventive",dateDebut:new Date("2023-11-10"),dateFin:new Date("2023-11-11"),description:"Vidange et contr\xF4le g\xE9n\xE9ral",cout:450,mecaniciens:[4,5],pieces:[{reference:"FILT-001",designation:"Filtre \xE0 huile",quantite:1,prixUnitaire:35,fournisseur:"AutoParts Inc."}],statut:"termin\xE9e",rapport:"Intervention r\xE9alis\xE9e sans anomalie"}];pleinsCarburant=[{id:1,enginId:2,date:new Date("2023-11-14"),volume:120,kilometrage:1850,prixLitre:1.85,conducteurId:3,lieu:"Station Total, Paris"}];consommations=[{enginId:2,periode:new Date("2023-11-01"),consommationMoyenne:32.5,alertes:[{id:1,enginId:2,date:new Date("2023-11-05"),type:"surconsommation",niveau:"moyen",resolved:!1}]}];dossiers=[{id:1,reference:"DOS-2023-001",client:"Client A",dateCreation:new Date("2023-11-01"),statut:"en cours",prestations:[{type:"transport",description:"Transport Paris-Lyon",quantite:1,prixUnitaire:1200,tvaApplicable:20}],montantHT:1200,tva:240,montantTTC:1440,documents:["devis_001.pdf"]}];factures=[{id:1,numero:"FAC-2023-001",dossierId:1,dateEmission:new Date("2023-11-10"),dateEcheance:new Date("2023-12-10"),montantHT:1200,tva:240,montantTTC:1440,statut:"envoy\xE9e",prestations:[{description:"Transport Paris-Lyon",quantite:1,prixUnitaire:1200,tvaApplicable:20}]}];positionsGPS=[{id:1,enginId:2,timestamp:new Date("2023-11-15T10:30:00"),latitude:48.8566,longitude:2.3522,vitesse:80,niveauCarburant:65,moteurAllume:!0}];users=[{id:1,username:"admin",password:"admin123",role:"admin",nom:"Administrateur",email:"admin@entreprise.com"},{id:3,username:"chauffeur",password:"chauf123",role:"chauffeur",nom:"Jean Dupont",permis:["C","CE"]}];auditLogs=[{id:1,timestamp:new Date("2023-11-15T08:00:00"),userId:1,username:"admin",action:"Connexion",details:"Authentification r\xE9ussie",ipAddress:"192.168.1.100"}];getEngins(){return F(this.engins)}getEngin(s){return this.engins.find(e=>e.id===s)}getFeuillesRoute(){return this.feuillesRoute}getFeuilleRoute(s){return this.feuillesRoute.find(e=>e.id===s)}getMaintenances(){return this.maintenances}getMaintenance(s){return this.maintenances.find(e=>e.id===s)}getPleinsCarburant(){return this.pleinsCarburant}getConsommations(){return this.consommations}getDossiers(){return this.dossiers}getDossier(s){return this.dossiers.find(e=>e.id===s)}getFactures(){return this.factures}getFacture(s){return this.factures.find(e=>e.id===s)}getPositionsGPS(){return this.positionsGPS}getUsers(){return this.users}getUser(s){return this.users.find(e=>e.id===s)}getAuditLogs(){return this.auditLogs}addEngin(s){let e=Math.max(...this.engins.map(n=>n.id))+1,i=O({id:e},s);return this.engins.push(i),i}updateEngin(s,e){let i=this.engins.findIndex(n=>n.id===s);if(i!==-1)return this.engins[i]=O(O({},this.engins[i]),e),this.engins[i]}addFeuilleRoute(s){let e=Math.max(...this.feuillesRoute.map(n=>n.id))+1,i=O({id:e},s);return this.feuillesRoute.push(i),i}getEnginsByStatus(s){return this.engins.filter(e=>e.statut===s)}getFeuillesRouteByEngin(s){return this.feuillesRoute.filter(e=>e.enginId===s)}getMaintenancesByEngin(s){return this.maintenances.filter(e=>e.enginId===s)}generateFacture(s){let e=this.getDossier(s);if(!e)throw new Error("Dossier non trouv\xE9");let i=Math.max(...this.factures.map(o=>o.id))+1,n={id:i,numero:`FAC-${new Date().getFullYear()}-${i.toString().padStart(3,"0")}`,dossierId:e.id,dateEmission:new Date,dateEcheance:new Date(Date.now()+30*24*60*60*1e3),montantHT:e.montantHT,tva:e.tva,montantTTC:e.montantTTC,statut:"brouillon",prestations:e.prestations.map(o=>({description:o.description,quantite:o.quantite,prixUnitaire:o.prixUnitaire,tvaApplicable:o.tvaApplicable}))};return this.factures.push(n),n}static \u0275fac=function(e){return new(e||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};export{yn as a,Bt as b,Tn as c,On as d,k as e,Xe as f,et as g,tt as h,Mn as i,dt as j,An as k,bt as l,vt as m};
