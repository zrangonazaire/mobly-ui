import{A as E,B as W,d as w,h as _,m as y,r as S,s as x,t as m,u as F,v as L,w as N,x as I,y as k,z as P}from"./chunk-R3BXI236.js";import{Cb as n,Eb as M,Ga as l,Gb as g,Hb as p,Ib as c,La as s,Qa as f,Wa as b,bb as h,ib as t,jb as o,tb as v,ub as C}from"./chunk-HC4MRZPG.js";function R(a,d){if(a&1&&(t(0,"div",16),n(1),o()),a&2){let r=C();l(),M(" ",r.errorMessage," ")}}var D=class a{constructor(d,r,e){this.authService=d;this.router=r;this.fb=e;this.loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",m.required]})}username="";password="";errorMessage="";loginForm;onSubmit(){this.loginForm.valid&&console.log("Form submitted:",this.loginForm.value)}login(){this.authService.login(this.username,this.password)?this.router.navigate(["/dashboard"]).then(d=>{d||console.error("\xC9chec de la navigation vers le dashboard")}):this.errorMessage="Identifiants incorrects"}static \u0275fac=function(r){return new(r||a)(s(S),s(y),s(E))};static \u0275cmp=f({type:a,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"login-container"],[1,"container","py-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-4"],[1,"card","shadow-lg"],[1,"card-header","bg-primary","text-white","text-center"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"alert","alert-danger"]],template:function(r,e){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),n(7,"Authentification "),o()(),t(8,"div",7)(9,"form",8),v("ngSubmit",function(){return e.login()}),b(10,R,2,1,"div",9),t(11,"div",10)(12,"label",11),n(13,"Nom d'utilisateur"),o(),t(14,"input",12),c("ngModelChange",function(i){return p(e.username,i)||(e.username=i),i}),o()(),t(15,"div",10)(16,"label",13),n(17,"Mot de passe"),o(),t(18,"input",14),c("ngModelChange",function(i){return p(e.password,i)||(e.password=i),i}),o()(),t(19,"button",15),n(20,"Se connecter"),o()()()()()()()()),r&2&&(l(10),h("ngIf",e.errorMessage),l(4),g("ngModel",e.username),l(4),g("ngModel",e.password))},dependencies:[W,k,x,F,L,P,I,N,_,w],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(#00000080,#00000080),url("./media/login-bg-WJDLKC4D.jpg") center 100%/100% fixed;display:flex;align-items:center}.card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background-color:#ffffffd9;border:none}.card-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2)}.form-control[_ngcontent-%COMP%]{background-color:#fffc;border:1px solid #dee2e6;transition:all .3s}.form-control[_ngcontent-%COMP%]:focus{background-color:#fff;box-shadow:0 0 0 .25rem #0d6efd40}']})};export{D as LoginComponent};
