import{B as E,C as P,D as W,c as w,g as _,l as y,q as S,r as x,s as m,t as F,u as L,v as N,w as I,x as k}from"./chunk-LHJ2GBCL.js";import{Bb as g,Cb as c,Db as p,Ga as d,La as s,Qa as f,Wa as b,cb as h,hb as o,ib as t,pb as v,qb as M,xb as a,zb as C}from"./chunk-UGYL7J3V.js";function j(l,r){if(l&1&&(o(0,"div",16),a(1),t()),l&2){let i=M();d(),C(" ",i.errorMessage," ")}}var R=class l{constructor(r,i,e){this.authService=r;this.router=i;this.fb=e;this.loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",m.required]})}username="";password="";errorMessage="";loginForm;onSubmit(){this.loginForm.valid&&console.log("Form submitted:",this.loginForm.value)}login(){this.authService.login(this.username,this.password)?this.router.navigate(["/dashboard"]).then(r=>{r||console.error("\xC9chec de la navigation vers le dashboard")}).catch(r=>{console.error("Erreur lors de la navigation vers le dashboard:",r)}):this.errorMessage="Identifiants incorrects"}static \u0275fac=function(i){return new(i||l)(s(S),s(y),s(P))};static \u0275cmp=f({type:l,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"login-container"],[1,"container","py-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-4"],[1,"card","shadow-lg"],[1,"card-header","bg-primary","text-white","text-center"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"alert","alert-danger"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),a(7,"Authentification "),t()(),o(8,"div",7)(9,"form",8),v("ngSubmit",function(){return e.login()}),b(10,j,2,1,"div",9),o(11,"div",10)(12,"label",11),a(13,"Nom d'utilisateur"),t(),o(14,"input",12),p("ngModelChange",function(n){return c(e.username,n)||(e.username=n),n}),t()(),o(15,"div",10)(16,"label",13),a(17,"Mot de passe"),t(),o(18,"input",14),p("ngModelChange",function(n){return c(e.password,n)||(e.password=n),n}),t()(),o(19,"button",15),a(20,"Se connecter"),t()()()()()()()()),i&2&&(d(10),h("ngIf",e.errorMessage),d(4),g("ngModel",e.username),d(4),g("ngModel",e.password))},dependencies:[W,k,x,F,L,E,I,N,_,w],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(#00000080,#00000080),url("./media/login-bg-7Z2W6L4L.jpg") center 80%/80% fixed;display:flex;align-items:center}.card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background-color:#ffffffd9;border:none}.card-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2)}.form-control[_ngcontent-%COMP%]{background-color:#fffc;border:1px solid #dee2e6;transition:all .3s}.form-control[_ngcontent-%COMP%]:focus{background-color:#fff;box-shadow:0 0 0 .25rem #0d6efd40}']})};export{R as LoginComponent};
