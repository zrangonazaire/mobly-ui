import{a as D,b as w,c as B,d as L,e as P,f as F,g as O,h as k,l as R,m as T}from"./chunk-NO6QWHO5.js";import{c as C,e as M,g as I,h as A,n as N,q as h}from"./chunk-MRC7V7DO.js";import{Ab as y,Bb as l,Cb as g,Da as a,Ia as b,Kb as u,Mb as S,Na as v,Nb as _,Ta as s,_a as f,cb as x,fb as n,gb as e,hb as E,rb as d,zb as i}from"./chunk-T7KU2RMZ.js";function H(c,r){if(c&1&&(n(0,"div",14)(1,"div",15)(2,"h5"),i(3,"D\xE9tails"),e(),n(4,"p"),i(5),e(),n(6,"p")(7,"strong"),i(8,"Co\xFBt:"),e(),i(9),u(10,"currency"),e()(),n(11,"div",15)(12,"h5"),i(13,"Engin concern\xE9"),e(),n(14,"p"),i(15),e(),n(16,"p"),i(17),e()()(),n(18,"div",16)(19,"button",17),i(20," Modifier "),e(),n(21,"button",18),i(22," Supprimer "),e()()),c&2){let t,o,m=d().$implicit,p=d();a(5),y(m.description),a(4),l(" ",_(10,5,m.cout,"EUR","symbol","1.2-2"),""),a(6),g("",(t=p.getEngin(m.enginId))==null?null:t.type," ",(t=p.getEngin(m.enginId))==null?null:t.modele,""),a(2),l("N\xB0 s\xE9rie: ",(o=p.getEngin(m.enginId))==null?null:o.numeroSerie,"")}}function $(c,r){if(c&1&&(n(0,"div",6)(1,"h2",7)(2,"button",8)(3,"span",9)(4,"span"),i(5),e(),n(6,"span",10),i(7),e(),n(8,"span",11),i(9),u(10,"date"),e()()()(),n(11,"div",12)(12,"div",13),s(13,H,23,10,"ng-template"),e()()()),c&2){let t,o=r.$implicit,m=d();a(4),x("badge bg-",m.getSeverity(o.type)," me-3"),a(),l(" ",o.type," "),a(2),g(" ",(t=m.getEngin(o.enginId))==null?null:t.modele," - ",o.description," "),a(2),l(" ",S(10,7,o.date,"dd/MM/yyyy")," ")}}var j=class c{constructor(r){this.dataService=r;this.maintenances=this.dataService.getMaintenances(),this.dataService.getEngins().subscribe(t=>{this.engins=t})}maintenances;engins;getEngin(r){return this.engins?.find(t=>t.id===r)}getSeverity(r){return r==="Curative"?"danger":"warning"}static \u0275fac=function(t){return new(t||c)(b(T))};static \u0275cmp=v({type:c,selectors:[["app-maintenance-list"]],decls:10,vars:1,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],["routerLink","/maintenance/nouvelle",1,"btn","btn-primary"],[1,"card-body"],["ngbAccordion",""],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],[1,"d-flex","align-items-center","w-100"],[1,"flex-grow-1"],[1,"text-muted","small"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[1,"row"],[1,"col-md-6"],[1,"mt-3"],[1,"btn","btn-sm","btn-outline-primary","me-2"],[1,"btn","btn-sm","btn-outline-danger"]],template:function(t,o){t&1&&(E(0,"app-navbar"),n(1,"div",0)(2,"div",1)(3,"h4"),i(4,"Planning de maintenance"),e(),n(5,"button",2),i(6," + Nouvelle intervention "),e()(),n(7,"div",3)(8,"div",4),s(9,$,14,10,"div",5),e()()()),t&2&&(a(9),f("ngForOf",o.maintenances))},dependencies:[A,C,I,M,O,B,F,P,L,D,w,k,h,N,R],styles:[".accordion-button[_ngcontent-%COMP%]{font-weight:500}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){background-color:#007bff1a}.badge[_ngcontent-%COMP%]{min-width:80px}"]})};export{j as MaintenanceListComponent};
