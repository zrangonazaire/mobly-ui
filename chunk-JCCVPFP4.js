import{a as T}from"./chunk-TS7EMTWV.js";import{a as j}from"./chunk-2XSP2BMP.js";import{a as D,b as w,c as B,d as L,e as P,f as F,g as O,h as k,k as R}from"./chunk-H5G4QBD7.js";import{b as _,d as M,e as I,f as A,l as N,o as h}from"./chunk-SMH2JQXX.js";import{Fb as u,Ga as a,Gb as y,Hb as C,La as b,Qa as v,Wa as s,bb as f,eb as x,fb as n,gb as e,hb as E,ob as l,vb as i,wb as S,xb as d,yb as g}from"./chunk-NW3OBQGS.js";function $(m,r){if(m&1&&(n(0,"div",14)(1,"div",15)(2,"h5"),i(3,"D\xE9tails"),e(),n(4,"p"),i(5),e(),n(6,"p")(7,"strong"),i(8,"Co\xFBt:"),e(),i(9),u(10,"currency"),e()(),n(11,"div",15)(12,"h5"),i(13,"Engin concern\xE9"),e(),n(14,"p"),i(15),e(),n(16,"p"),i(17),e()()(),n(18,"div",16)(19,"button",17),i(20," Modifier "),e(),n(21,"button",18),i(22," Supprimer "),e()()),m&2){let t,o,c=l().$implicit,p=l();a(5),S(c.description),a(4),d(" ",C(10,5,c.cout,"EUR","symbol","1.2-2"),""),a(6),g("",(t=p.getEngin(c.enginId))==null?null:t.type," ",(t=p.getEngin(c.enginId))==null?null:t.modele,""),a(2),d("N\xB0 s\xE9rie: ",(o=p.getEngin(c.enginId))==null?null:o.numeroSerie,"")}}function U(m,r){if(m&1&&(n(0,"div",6)(1,"h2",7)(2,"button",8)(3,"span",9)(4,"span"),i(5),e(),n(6,"span",10),i(7),e(),n(8,"span",11),i(9),u(10,"date"),e()()()(),n(11,"div",12)(12,"div",13),s(13,$,23,10,"ng-template"),e()()()),m&2){let t,o=r.$implicit,c=l();a(4),x("badge bg-",c.getSeverity(o.type)," me-3"),a(),d(" ",o.type," "),a(2),g(" ",(t=c.getEngin(o.enginId))==null?null:t.modele," - ",o.description," "),a(2),d(" ",y(10,7,o.date,"dd/MM/yyyy")," ")}}var H=class m{constructor(r){this.dataService=r;this.maintenances=this.dataService.getMaintenances(),this.dataService.getEngins().subscribe(t=>{this.engins=t})}maintenances;engins;getEngin(r){return this.engins?.find(t=>t.id===r)}getSeverity(r){return r==="Curative"?"danger":"warning"}static \u0275fac=function(t){return new(t||m)(b(j))};static \u0275cmp=v({type:m,selectors:[["app-maintenance-list"]],decls:11,vars:1,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],["routerLink","/maintenance/nouvelle",1,"btn","btn-primary"],[1,"card-body"],["ngbAccordion",""],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],[1,"d-flex","align-items-center","w-100"],[1,"flex-grow-1"],[1,"text-muted","small"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[1,"row"],[1,"col-md-6"],[1,"mt-3"],[1,"btn","btn-sm","btn-outline-primary","me-2"],[1,"btn","btn-sm","btn-outline-danger"]],template:function(t,o){t&1&&(E(0,"app-navbar")(1,"app-sidebar"),n(2,"div",0)(3,"div",1)(4,"h4"),i(5,"Planning de maintenance"),e(),n(6,"button",2),i(7," + Nouvelle intervention "),e()(),n(8,"div",3)(9,"div",4),s(10,U,14,10,"div",5),e()()()),t&2&&(a(10),f("ngForOf",o.maintenances))},dependencies:[T,A,_,I,M,O,B,F,P,L,D,w,k,h,N,R],styles:[".accordion-button[_ngcontent-%COMP%]{font-weight:500}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){background-color:#007bff1a}.badge[_ngcontent-%COMP%]{min-width:80px}"]})};export{H as MaintenanceListComponent};
